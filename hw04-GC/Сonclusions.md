| **GC**          | **Время до OOM (ms)** | **Среднее время  одного цикла задачи  (CPU Thread time) (ms)** | **Среднее время  одного цикла задачи (ms)** | **Количество Young сборок** | **Время Young Сборок (суммарное)** | **Среднее время на одну Young сборку (ms)** | **Количество Old сборок** | **Время Old Сборок (суммарное) (ms)** | **Среднее время на одну Old сборку (ms)** | **Время выполнения всей программы (ms)** | **Время выполнения всей программы - суммарное время Young и old сборок (ms)** |
|-------------|--------------|-------------------------------------------------------|------------------------------------|-------------------------|--------------------------------|------------------------------------|-----------------------|------------------------------|----------------------------------|---------------------------------|----------------------------------------------------------------------|
| **_Heap 256Mb_**  |              |                                                       |                                    |                         |                                |                                    |                       |                              |                                  |                                 |                                                                      |
| **G1**          | 253310       | <mark>119</mark>                                                 | 121                                | 192                     | 2663                           | 13                                 | 3                     | 147                          | 49                               | <mark>305477</mark>                          | 302666                                                               |
| **Parallel**    | 174183       | 120                                                   | <mark>128</mark>                                | 277                     | 18422                          | 66                                 | 3                     | 409                          | 136                              | 322853                          | 304021                                                               |
| **_Heap 8000Mb_** |              |                                                       |                                    |                         |                                |                                    |                       |                              |                                  |                                 |                                                                      |
| **G1**          | ----         | 124                                                   | 125                                | 11                      | 2579                           | 229                                | 0                     | 0                            | 0                                | 317351                          | 314771                                                               |
| **Parallel**    | ----         | <mark>122</mark>                                                   | 123                                | 10                      | 2635                           | 263                                | 0                     | 0                            | 0                                | <mark>310878</mark>                          | 308242                                                               |


* Для данной программы за кретерии оценки были взяты общее время выполнения всей задачи и как дополнительный (просто я не уверен что тот метод расчета который я взял корректен) время выполнения одного цикла задачи.
* GC использовались G1 и Parallel
* На хипе в 256Mb программа падает с OOM.
* Для каждого размера хипа и на каждом GC было 5 прогонов, в таблице средние значения.
* Колличество циклов программы одинаково для всех прогонов.

#### **Heap 256Mb**
Для маленького размера хипа, на данном приложении, эффективнее, если брать за параметр эффективности общее время выполнения, будет использование G1, т.к. он на yong сборки тратит горазда меньше времени (2663ms против 18422ms на Parallel) 
и итоговое время выполнения всей задачи на G1 меньше (305s против 322s на Parallel).
При этом Parallel производит гораздо большее количество young сборок и тратит на них горадо больше времени (возможно тут еще играет роль что на этом размере хипа программа выдает OOM).

Не уверен что это существенно, но G1 существенно дольше держится до OOM.

Так же я измерял время выполнения одного цикла во всей задаче, через просто получение системного времени и через получение времени CPU у трэда, на хипе 256mb для Parallel GC 
разница между этими временами довольна существенна ~8ms добавляет Parallel GC, т.е. на сколько я понимаю, это приблизительно то влияние которое оказывается STW паузой (вот в этой методике я не уверен).
Т.е. по этой разнице можно судить как GC влияет на время отклика, если брать его за показатель эффективности - то на хипе 256mb Parallel GC так же проигрывает (у G1 разница между этими временами ~2ms).

#### **Heap 8000Mb**
Для хипа 8000Mb ситуация меняется, на G1 программа выполняется дольше чем на Parallel (317s на G1 против 310s на Parallel), т.е. на большом размере хипа Parallel, 
по общему времени выполнения программы, эффективнее, но разница уже не так существенна как в случаее с маленьким размером хипа и к тому же в этом случае время выполнения всей программы при Parallel GC больше чем время выполнения при хипе в 256Mb и на G1.
При этом количество сборок примерно одинаково.

Если смотреть на время выполнения одного цикла, тут оно примерно одинаково и нет такой разници как в первом случае.

## Общие выводы
* В целом, для данной программы эффективнее использовать Parallel GC если брать за параметр эффективности общую "пропускную способность приложения".
* Если я верно выбрал методику измерения задержки - то по этому параметру лучше показывает себя G1.
* Так же нет смысла чрезмерно увеличивать размер хипа, т.к. это может отрицально сказаться на производительности, стоит использовать тот размер который реально нужен приложению.
